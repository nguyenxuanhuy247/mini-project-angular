<div class="log-in">
  <form
    vts-form
    class="form"
    (ngSubmit)="submitForm()"
    vtsLayout="vertical"
    [formGroup]="loginForm"
  >
    <a routerLink="/" class="logo-link">
      <img vts-image appLogoSrc="160px" alt="Viettel Solutions Logo" />
    </a>

    <vts-form-item>
      <vts-form-label>Email</vts-form-label>
      <vts-form-control [vtsErrorTip]="errorEmail">
        <vts-input-group>
          <input
            vts-input
            type="text"
            formControlName="email"
            placeholder="Nhập email"
            style="border-radius: 3px"
          />

          <ng-template #errorEmail let-control>
            <ng-container *ngIf="control.hasError('required')">
              Vui lòng nhập địa chỉ email!
            </ng-container>
            <ng-container *ngIf="control.hasError('email')">
              Định dạng email không đúng!
            </ng-container>
          </ng-template>
        </vts-input-group>
      </vts-form-control>
    </vts-form-item>

    <vts-form-item>
      <vts-form-label>Mật khẩu</vts-form-label>
      <vts-form-control [vtsErrorTip]="errorPassword">
        <vts-input-group [vtsSuffix]="eyePassword">
          <input
            [type]="inputPasswordType"
            vts-input
            formControlName="password"
            placeholder="Nhập mật khẩu"
            style="border-radius: 3px"
          />

          <ng-template #errorPassword let-control>
            <ng-container *ngIf="control.hasError('required')">
              Vui lòng nhập mật khẩu
            </ng-container>
            <ng-container *ngIf="control.hasError('minlength')">
              Mật khẩu phải có tối thiểu 6 kí tự</ng-container
            ><ng-container *ngIf="control.hasError('maxlength')">
              Mật khẩu chỉ có tối đa 25 kí tự</ng-container
            ><ng-container
              *ngIf="
                !control.hasError('minlength') &&
                !control.hasError('maxlength') &&
                control.hasError('pattern')
              "
            >
              Mật khẩu phải chứa ít nhất 1 chữ cái viết hoa và 1 chữ số
            </ng-container>
          </ng-template>
        </vts-input-group>

        <ng-template #eyePassword>
          <ng-container *ngIf="isShowPassword"
            ><i
              vts-icon
              vtsType="Eye:vts"
              (click)="onTogglePassword()"
              class="eye"
            ></i
          ></ng-container>
          <ng-container *ngIf="!isShowPassword"
            ><i
              vts-icon
              vtsType="EyeOff:vts"
              (click)="onTogglePassword()"
              class="eye"
              style="color: #666"
            ></i
          ></ng-container>
        </ng-template>
      </vts-form-control>
    </vts-form-item>

    <div vts-typography vtsAlign="right" vtsType="body1">
      <a vts-button vtsType="link" disabled class="login-form-forgot"
        >Quên mật khẩu</a
      >
    </div>

    <vts-form-item class="login-button-container">
      <vts-form-control>
        <button
          vts-button
          vtsBlock
          vtsType="primary"
          class="login-button"
          type="submit"
        >
          Đăng nhập
        </button>
      </vts-form-control>
    </vts-form-item>

    <div vts-row vtsGutter="8">
      <span vts-col vts-typography vtsType="body1">Bạn chưa có tài khoản?</span>
      <a vts-col vts-button vtsType="link" routerLink="/sign-up"
        >Đăng ký ngay!</a
      >
    </div>
  </form>
</div>

<vts-spin-basic [isSpinning]="isSpinning"></vts-spin-basic>
